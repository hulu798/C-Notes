

# C语言运算符优先级表

在C语言中，运算符优先级从高到低的完整排序如下：

| 优先级 | 运算符       | 名称或含义       | 使用形式               | 结合方向 |
| ------ | ------------ | ---------------- | ---------------------- | -------- |
| 1      | `()`         | 圆括号           | `(表达式)`             | 从左到右 |
|        | `[]`         | 数组下标         | `数组名[下标]`         | 从左到右 |
|        | `.`          | 成员选择（对象） | `对象.成员名`          | 从左到右 |
|        | `->`         | 成员选择（指针） | `对象指针->成员名`     | 从左到右 |
| 2      | `!`          | 逻辑非           | `!表达式`              | 从右到左 |
|        | `~`          | 按位取反         | `~表达式`              | 从右到左 |
|        | `-`          | 负号             | `-表达式`              | 从右到左 |
|        | `++`         | 自增             | `++变量名/变量名++`    | 从右到左 |
|        | `--`         | 自减             | `--变量名/变量名--`    | 从右到左 |
|        | `*`          | 取值（指针）     | `*指针变量`            | 从右到左 |
|        | `&`          | 取地址           | `&变量名`              | 从右到左 |
|        | `sizeof`     | 长度运算符       | `sizeof(表达式)`       | 从右到左 |
| 3      | `*`          | 乘               | `表达式*表达式`        | 从左到右 |
|        | `/`          | 除               | `表达式/表达式`        | 从左到右 |
|        | `%`          | 取模（取余）     | `表达式%表达式`        | 从左到右 |
| 4      | `+`          | 加               | `表达式+表达式`        | 从左到右 |
|        | `-`          | 减               | `表达式-表达式`        | 从左到右 |
| 5      | `<<`         | 左移             | `表达式<<表达式`       | 从左到右 |
|        | `>>`         | 右移             | `表达式>>表达式`       | 从左到右 |
| 6      | `<`          | 小于             | `表达式<表达式`        | 从左到右 |
|        | `<=`         | 小于等于         | `表达式<=表达式`       | 从左到右 |
|        | `>`          | 大于             | `表达式>表达式`        | 从左到右 |
|        | `>=`         | 大于等于         | `表达式>=表达式`       | 从左到右 |
| 7      | `==`         | 等于             | `表达式==表达式`       | 从左到右 |
|        | `!=`         | 不等于           | `表达式!=表达式`       | 从左到右 |
| 8      | `&`          | 按位与           | `表达式&表达式`        | 从左到右 |
| 9      | `^`          | 按位异或         | `表达式^表达式`        | 从左到右 |
| 10     | `|`          | 按位或           | `表达式|表达式`        | 从左到右 |
| 11     | `&&`         | 逻辑与           | `表达式&&表达式`       | 从左到右 |
| 12     | `||`         | 逻辑或           | `表达式||表达式`       | 从左到右 |
| 13     | `?:`         | 条件运算符       | `表达式?表达式:表达式` | 从右到左 |
| 14     | `=`          | 赋值运算符       | `变量=表达式`          | 从右到左 |
|        | `+=` `-=` 等 | 组合赋值运算符   | `变量+=表达式`         | 从右到左 |
| 15     | `,`          | 逗号运算符       | `表达式,表达式,…`      | 从左到右 |



> **说明**
>
> 运算符优先级大致为
>
> 圆括号数组下标成员访问 $>$ 单目(逻辑非是单目运算符,从而其优先级比**与或**高得多) $>$ 算数(先乘除后加减)$>$移位操作符(`<< >>`)
>
> $>$关系表达式(`>,<,>=,<=大于==,!=`)$>$ `& > ^ > | > && > ||`$>$三目运算符-条件运算符(? : )$>$赋值(所有赋值运算符优先级相同)$>$逗号表达式 

> [!important]
>
> **==大部分运算符都是左结合的,只有单目运算符,赋值运算符是右结合==**





<font size=5>**后缀自增运算符的规则**</font>

后缀自增运算符（`++`）遵循 “先使用，后自增” 的规则。也就是说，在表达式里使用后缀自增运算符时，会先使用变量的当前值来计算表达式结果，等整个包含该后缀自增的表达式计算完成后，变量的值才会自增。

<font size=5>**示例说明**</font>

<font size=5>**简单赋值语句**</font>

```c
#include <stdio.h>

int main() {
    int num = 5;
    int result;

    result = num++;

    printf("result: %d\n", result); 
    printf("num: %d\n", num);       

    return 0;
}
```

在这个例子中，`result = num++;` 语句执行时，先把 `num` 当前的值 `5` 赋给 `result`，等这整个赋值语句执行完毕后，`num` 的值才自增为 `6`。所以最终输出 `result` 为 `5`，`num` 为 `6`。

<font size=5>**复杂表达式语句**</font>

```c
#include <stdio.h>

int main() {
    int a = 2;
    int b = 3;
    int c;

    c = a * b++ + a;

    printf("c: %d\n", c);  
    printf("b: %d\n", b);  

    return 0;
}
```

在 `c = a * b++ + a;` 这个语句中，`b++` 先使用 `b` 的当前值 `3` 参与表达式计算，即计算 `a * 3 + a`（也就是 `2 * 3 + 2`），结果为 `8` 并赋值给 `c`。等整个赋值语句执行结束后，`b` 的值自增为 `4`。

<font size=5 color="red">**特殊情况：逗号运算符**</font>

==逗号运算符会按顺序从左到右计算各个子表达式==，并且整个逗号表达式的值是最后一个子表达式的值。不过，后缀自增依旧遵循在包含它的完整子表达式执行结束后自增的规则。

```c
#include <stdio.h>

int main() {
    int x = 10;
    int y;
    y = (x++, x + 2);
    printf("y: %d\n", y);  
    printf("x: %d\n", x);  
    return 0;
}
```



在 `y = (x++, x + 2);` 中，`x++` 先使用 `x` 的值 `10`，之后 `x` 自增为 `11`。接着计算 `x + 2`（也就是 `11 + 2`），结果为 `13` 并赋值给 `y`。

==**综上所述，后缀自增运算符是在包含它的完整语句或子表达式执行结束后进行递增(除逗号表达式在子表达式内外,基本上都是完整表达式结束了再自加,减)**==



